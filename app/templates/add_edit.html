<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add/Edit Raspberry Pi</title>
</head>
<body>
<!-- Raspberry Pi 編集フォーム -->

<h1>{{ 'Edit' if raspi else 'Add' }} Raspberry Pi</h1>
<form id="raspi-form" action="{{ url_for('main.add_raspi') }}" method="POST">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" value="{{ raspi[1] if raspi else '' }}" required><br>

    <label for="ip_address">IP Address:</label>
    <input type="text" id="ip_address" name="ip_address" value="{{ raspi[2] if raspi else '' }}" required><br>

    <label for="rack">Rack Number:</label>
    <input type="number" id="rack" name="rack" min="1" required><br>

    <label for="x">X Position:</label>
    <input type="number" id="x" name="x" min="1" required><br>

    <label for="y">Y Position:</label>
    <input type="number" id="y" name="y" min="1" required><br>

    <input type="hidden" id="location" name="location">
    
    <button type="submit">{{ 'Save' if raspi else 'Add' }}</button>
</form>

<button onclick="window.location.href='/dashboard'">Cancel</button>

<script>
    const form = document.getElementById('raspi-form');
    form.addEventListener('submit', e => {
        const rack = document.getElementById('rack').value;
        const x = document.getElementById('x').value;
        const y = document.getElementById('y').value;
        document.getElementById('location').value = `r${rack}x${x}y${y}`;
    });
</script>

</body>
</html>

